# GAViz1.0
GAViz1.0
GAViz：基于图的基因组组装结果可视化工具
一、介绍
GAViz 是一款基于图的基因组组装结果可视化工具。GAViz 的图形可视化基于 G6.js库，通过交互式图形界面展示组装结果，支持GFA1和GFA2文件，同时整合了Hi-C数据。并且通过添加高亮显示、最优路径分析以及手动编辑功能，为研究人员深入分析组装中的错误和复杂结构，优化组装算法提供便捷性，进一步提升该工具的实用性。
二、软件使用手册
1.下载和安装
下载GAViz Setup 1.0.0.exe，双击文件，直接自动安装。

2.文件格式
用户提供标准GFA1/GFA2格式文件，此外支持在GFA文件基础上，提供一些自定义行的信息：
（1）定义A行，可用于展示S节点的序列信息。A行信息需提供在对应 的S行后，每一列用tab键隔开，依次代表：‘A’标识符、对应S节点ID 、A相对于S的位置、该序列的正负方向、起始位置、截至位置、A的长度、id:i:(A的编号)、固定的标志HG:A:a，参考格式如下：

图2-1

（2）定义H行，可用于展示两个节点之间HiC强度信息。每一列用tab键隔开，依次代表：‘H’标识符、节点1的ID、节点2的ID、两节点之间HIC强度，参考格式如下：

图2-2

（3）整体格式如下：

图2-3








3．用户操作
主要分为四大功能模块：
1.左侧部分：节点信息基础展示、基础功能、信息输出框
2.右侧部分：图结构展示及操作界面，命令行操作

图3-1

4．功能详解
4.1基础功能 Basic Function
（1）上传文件：选择文件，只能选择后缀名为.gfa的文件（图4-1），当文件很大的时候，会出现缓冲界面。（图4-2）

图4-1

图4-2
（2）绘制图结构：点击绘制图形按钮，右侧界面会绘制出图结构，可以多次点击，更换不同排布。

图4-3
保存文件：在界面上进行一系列操作后，保存下来为新的gfa文件，或者svg/png文件。

图4-4
（4）搜索节点：输入节点的id，可根据节点ID搜索定位高亮该节点。

图4-5

4.2信息输出框功能  Output Information
信息输出框主要展示右侧界面在进行操作时产生的输出信息，其中包括：
（1）点击节点，框内会展示该节点的信息
（2）点击Legend中分类标签，框内会输出属于该分区的节点ID和总度数
输出最短路径信息，输出N层扩散关系
4.3 图结构展示及操作
这个区域位于整个界面的右侧，主要分为四大块：数据展示与交互界面、。
（1）数据展示与交互界面：
a.快捷键使用：通过快捷键，可以在界面上手动对节点/边进行增删等操作，具体快捷键的使用操作如下图。

图4-6


b.鼠标点击：当鼠标右击节点时，会有两个选项菜单栏，分别是节点信息和层级信息。

图4-7

当点击“节点信息”按钮时，左侧会弹出该节点的详细信息；可以查看该节点的在组装图中的标签、序列、长度、rd属性、SN属性、SO属性、目标节点、来源节点、节点属性；其中除目标节点和来源节点不可以修改，其他都可以进行修改。其中节点属性，即是GFA文件中该节点后的A行的信息，可以在此处进行修改增加A行信息。

图4-8

当点击“层级信息”按钮时，会出现二级菜单栏，可以根据需求进行查看从该节点出发的第一层相邻节点、第二层相邻节点、第三层相邻节点、第四层相邻节点。每一层会高亮出不同的颜色方便用户查看。同时左侧的信息输出框中会显示出该节点信息和每一层上的节点。

图4-9



（2）展示效果功能标签栏：在该区域的左上栏，该功能区域包含六个标签，分别是操作往后撤回，操作往前撤回，放大，缩小，整体居中，画布居中。

图4-10
（3）节点与边的信息展示：在该区域的左侧栏，该功能区包含四个标签，分别可以展示节点Hi-C互作强度，展示两点最短路径，展示所有边的信息，下载画布图片：
a. Hic连接展示：按下Ctrl键，选中多个节点，然后点击按钮，可查看这些节点之间是否有Hi-C连接；也可以单选一个节点，然后点击按钮，查看该节点与其他节点的Hi-C连接关系（图4-11-a）；

图4-11-a
b. 最短路径：按下Ctrl键，依次选择两个节点，然后点击按钮，可查看到两点之间的最短路径，同时路径信息输出在输出框中（图4-11-b）;

图4-11-b

c.边信息：点击按钮，可以在展示图中所有边信息，再次点击，不展示边信息（图4-11-c）;

图4-11-c

d.下载画布图片：点击按钮，可以下载当前的组装图，保存为svg文件。（图4-11-d）;

图4-11-d


（4）节点筛选：根据节点的总度数来进行分区，共分为5个区，分别是总度数为0、1、2-5、5-10、10+。当需要查看出入总度数在某一个区间的节点时，点击某一个分区标签，就会在图中高亮属于该分区的节点，同时在输出框中可以查看这个区间的所有节点ID和度数。（图4-12）。

图4-12

5.命令行操作
可根据给出的命令行格式，使用命令行对节点的增删查改操作进行批量操作。具体命令行的使用格式如下图。点击“执行命令”后便可在节目上进行自动的操作。

图5-1
